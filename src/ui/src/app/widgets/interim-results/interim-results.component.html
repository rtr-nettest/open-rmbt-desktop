<div class="app-wrapper" *transloco="let t">
    <ng-container *ngIf="visualization$ | async as state">
        <div class="app-container">
            <h4 class="app-title">
                <span>{{ t("Ping") }}:</span>
                <div
                    class="app-spinner"
                    *ngIf="state.currentPhaseName === phases.PING"
                >
                    <mat-spinner></mat-spinner>
                </div>
                <span *ngIf="state.currentPhaseName !== phases.PING && ping">
                    {{ t(ping) }}
                </span>
            </h4>
            <div class="app-chart app-chart--ping"></div>
        </div>
        <div class="app-container">
            <h4 class="app-title">
                <span>{{ t("Download") }}:</span>
                <div
                    class="app-spinner"
                    *ngIf="state.currentPhaseName === phases.DOWN"
                >
                    <mat-spinner></mat-spinner>
                </div>
                <span
                    *ngIf="state.currentPhaseName !== phases.DOWN && download"
                >
                    {{ t(download) }}
                </span>
            </h4>
            <div class="app-chart app-chart--down">
                <nt-test-chart
                    class="nt-canvas__wrapper"
                    phase="download"
                    [height]="(chartHeight$ | async) ?? 0"
                    [width]="(chartWidth$ | async) ?? 0"
                ></nt-test-chart>
            </div>
        </div>
        <div class="app-container">
            <h4 class="app-title">
                <span>{{ t("Upload") }}:</span>
                <div
                    class="app-spinner"
                    *ngIf="
                        state.currentPhaseName === phases.UP ||
                        state.currentPhaseName === phases.INIT_UP
                    "
                >
                    <mat-spinner></mat-spinner>
                </div>
                <span
                    *ngIf="
                        state.currentPhaseName !== phases.UP &&
                        state.currentPhaseName !== phases.INIT_UP &&
                        upload
                    "
                >
                    {{ t(upload) }}
                </span>
            </h4>
            <div class="app-chart app-chart--up">
                <nt-test-chart
                    class="nt-canvas__wrapper"
                    phase="upload"
                    [height]="(chartHeight$ | async) ?? 0"
                    [width]="(chartWidth$ | async) ?? 0"
                ></nt-test-chart>
            </div>
        </div>
    </ng-container>
</div>
