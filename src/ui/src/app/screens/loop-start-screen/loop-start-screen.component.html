<app-header></app-header>
<app-body>
    <app-main-menu *ngIf="(env$ | async)?.FLAVOR !== 'ont'"></app-main-menu>
    <app-main-content *ngIf="env$ | async as env">
        <div
            class="app-wrapper app-wrapper--{{ env?.FLAVOR }}"
            *transloco="let t"
        >
            <div class="app-warning">
                <i class="app-icon app-icon--info"></i>
                <div>
                    {{
                        t(
                            "Tests are conducted repeatedly until they are are stopped manually"
                        )
                    }}
                </div>
            </div>
            <form *ngIf="form" [formGroup]="form" (ngSubmit)="onSubmit()">
                <div>
                    <span>{{ t("Interval between tests") }}</span>
                    <mat-form-field>
                        <input
                            type="number"
                            formControlName="interval"
                            name="interval"
                            matInput
                            placeholder="Interval"
                            required
                        />
                    </mat-form-field>
                    <span>{{ t("minutes") }}</span>
                </div>
                <mat-error *ngIf="form.controls.interval.invalid">
                    {{
                        t("The interval must be between %0 and %1 minutes")
                            | sprintf : min : max
                    }}
                </mat-error>
                <div class="app-btn-container">
                    <button type="submit" mat-flat-button color="primary">
                        {{ t("Start loop test") }}
                    </button>
                </div>
            </form>
        </div>
    </app-main-content>
    <app-footer></app-footer>
</app-body>
